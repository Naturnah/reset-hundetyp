<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RESET ‚Äì Hundetyp Analyse</title>
<style>
  :root{
    --bg:#f4efe6; --card:#ffffff; --text:#2e2b28;
    --line:#e6dccf; --sand:#cdb79e; --olive:#6f7a62; --brown:#8b6b4e; --accent:#7fa07f;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
    background:linear-gradient(180deg,#efe8db 0%, #f6f2ea 60%, #f4efe6 100%);
    color:var(--text);
  }
  .wrap{max-width:960px; margin:28px auto 80px; padding:0 16px;}
  .panel{
    background:var(--card); border:1px solid var(--line); border-radius:14px;
    box-shadow:0 12px 32px rgba(0,0,0,.06); padding:18px 18px;
  }
  h1{margin:0 0 4px; font-size:1.6rem; color:var(--brown);}
  .sub{margin:0 0 14px; color:#6d675f;}
  .grid{display:grid; gap:14px; grid-template-columns: 1fr 1fr;}
  @media (max-width: 820px){ .grid{grid-template-columns: 1fr;} }
  label.top{display:block; font-weight:600; margin:8px 0 6px;}
  input[type="text"]{
    width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px;
    background:#faf7f2; font-size:15px;
  }
  .card{background:#fff; border:1px solid var(--line); border-radius:12px; padding:14px; margin:12px 0;}
  .q{margin:0 0 8px; font-weight:700;}
  .opt{display:block; padding:9px 10px; margin:8px 0; border:1px solid var(--line); border-radius:10px; background:#fbf9f6;}
  .opt input{accent-color:var(--accent); margin-right:8px;}
  .bar{height:8px; background:#ede5d9; border-radius:99px; overflow:hidden; margin:12px 0 2px}
  .fill{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--olive));}
  .muted{color:#7a736b; font-size:13px}
  .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
  button{border:0; cursor:pointer; padding:12px 16px; border-radius:10px; font-weight:700}
  .primary{background:var(--olive); color:#fff}
  .ghost{background:#efe8de; color:#2e2b28; border:1px solid var(--line)}
  .result{margin-top:14px; display:none}
  pre{background:#fbf8f3; border:1px solid var(--line); border-radius:10px; padding:12px; overflow:auto}
</style>
</head>
<body>
  <div class="wrap">
    <div class="panel">
      <h1>RESET ‚Äì Hundetyp Analyse</h1>
      <p class="sub">Bitte ausf√ºllen. Am Ende wird die Auswertung erstellt und <strong>per WhatsApp</strong> an den Trainer gesendet.</p>

      <!-- Fortschritt -->
      <div class="bar"><div id="fill" class="fill"></div></div>
      <div class="muted"><span id="pNow">0</span> / <span id="pAll">20</span> beantwortet</div>

      <!-- Stammdaten -->
      <div class="grid">
        <div>
          <label class="top" for="dog">Name des Hundes</label>
          <input id="dog" type="text" placeholder="z. B. Luna" />
        </div>
        <div>
          <label class="top" for="owner">Name des Halters</label>
          <input id="owner" type="text" placeholder="Vor- und Nachname" />
        </div>
      </div>

      <form id="form">
        <!-- 18 Fragen ‚Äì jede Antwort ist einem Typ zugeordnet -->
        <div class="card">
          <p class="q">1) Wie verh√§lt sich der Hund an der Leine?</p>
          <label class="opt"><input type="radio" name="q1" value="SAN"> Zieht hin und her, schn√ºffelt √ºberall (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q1" value="CHOL"> Zieht geradeaus, sehr fokussiert (Choleriker)</label>
          <label class="opt"><input type="radio" name="q1" value="MEL"> Bleibt hinten, z√∂gert, weicht aus (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q1" value="PHLE"> Bleibt stehen, schn√ºffelt lange (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">2) Reaktion auf Reize (Hunde/Fahrr√§der/Jogger)?</p>
          <label class="opt"><input type="radio" name="q2" value="SAN"> Springt, bellt, l√§sst sich leicht ablenken (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q2" value="CHOL"> Fixiert starr, baut Spannung auf (Choleriker)</label>
          <label class="opt"><input type="radio" name="q2" value="MEL"> Weicht zur√ºck, zeigt Unsicherheit (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q2" value="PHLE"> Bleibt sitzen, reagiert tr√§ge (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">3) Nach 1 Stunde Aktivit√§t ‚Ä¶</p>
          <label class="opt"><input type="radio" name="q3" value="SAN"> Will noch mehr, dreht richtig auf (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q3" value="CHOL"> Bleibt fokussiert, macht weiter (Choleriker)</label>
          <label class="opt"><input type="radio" name="q3" value="MEL"> Wird m√ºde oder unsicherer (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q3" value="PHLE"> Verweigert, will Pause machen (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">4) Beim Stoppen oder Zur√ºckhalten ‚Ä¶</p>
          <label class="opt"><input type="radio" name="q4" value="SAN"> Zappelt, will sofort weiter (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q4" value="CHOL"> Versteift sich, stemmt dagegen (Choleriker)</label>
          <label class="opt"><input type="radio" name="q4" value="MEL"> Duckt sich, erstarrt (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q4" value="PHLE"> Bleibt stehen, reagiert kaum (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">5) Beruhigung nach Aufregung?</p>
          <label class="opt"><input type="radio" name="q5" value="SAN"> Schnell hoch, schnell runter (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q5" value="CHOL"> Bleibt lange aufgeregt (Choleriker)</label>
          <label class="opt"><input type="radio" name="q5" value="MEL"> Nur bei Sicherheit aktiv (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q5" value="PHLE"> Dreht selten auf (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">6) Ruhe zu Hause?</p>
          <label class="opt"><input type="radio" name="q6" value="SAN"> Wechselt st√§ndig den Platz (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q6" value="CHOL"> Liegt mit Blick auf alles (Choleriker)</label>
          <label class="opt"><input type="radio" name="q6" value="MEL"> Sucht ruhige Ecken (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q6" value="PHLE"> Fester Platz, sehr ruhig (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">7) In neuer Umgebung?</p>
          <label class="opt"><input type="radio" name="q7" value="SAN"> Muss alles erkunden, √ºberdreht (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q7" value="CHOL"> Markiert, kontrolliert (Choleriker)</label>
          <label class="opt"><input type="radio" name="q7" value="MEL"> Bleibt nah bei mir, vorsichtig (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q7" value="PHLE"> Bleibt stehen, schn√ºffelt (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">8) Reaktion auf deine K√∂rpersprache?</p>
          <label class="opt"><input type="radio" name="q8" value="SAN"> Reagiert sp√§t oder gar nicht (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q8" value="CHOL"> Testet mich, beobachtet genau (Choleriker)</label>
          <label class="opt"><input type="radio" name="q8" value="MEL"> Zieht sich bei Spannung zur√ºck (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q8" value="PHLE"> Reagiert kaum (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">9) Wenn du dich Futter oder Spielzeug n√§herst?</p>
          <label class="opt"><input type="radio" name="q9" value="PHLE"> Gibt problemlos ab (Phlegmatiker)</label>
          <label class="opt"><input type="radio" name="q9" value="SAN"> Frisst schneller, nimmt weg (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q9" value="CHOL"> Versteift sich, knurrt (Choleriker)</label>
          <label class="opt"><input type="radio" name="q9" value="CHOL"> Schnappt, bei√üt (Choleriker)</label>
        </div>

        <div class="card">
          <p class="q">10) Reaktion auf fremde Menschen?</p>
          <label class="opt"><input type="radio" name="q10" value="SAN"> Freundlich zu allen (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q10" value="PHLE"> Ignoriert Fremde (Phlegmatiker)</label>
          <label class="opt"><input type="radio" name="q10" value="MEL"> Unsicher, weicht aus (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q10" value="CHOL"> Knurrt oder bellt (Choleriker)</label>
        </div>

        <div class="card">
          <p class="q">11) Reaktion auf andere Hunde?</p>
          <label class="opt"><input type="radio" name="q11" value="SAN"> Spielt gern und fair (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q11" value="PHLE"> Ignoriert andere Hunde (Phlegmatiker)</label>
          <label class="opt"><input type="radio" name="q11" value="MEL"> Unsicher, meidet Kontakt (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q11" value="CHOL"> P√∂belt an der Leine (Choleriker)</label>
        </div>

        <div class="card">
          <p class="q">12) Wenn er etwas nicht bekommt oder darf?</p>
          <label class="opt"><input type="radio" name="q12" value="PHLE"> Akzeptiert es schnell (Phlegmatiker)</label>
          <label class="opt"><input type="radio" name="q12" value="SAN"> Wird kurz unruhig, gibt auf (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q12" value="MEL"> Bellt, jault, wird hektisch (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q12" value="CHOL"> Wird aggressiv, zerst√∂rt (Choleriker)</label>
        </div>

        <div class="card">
          <p class="q">13) Kann dein Hund warten?</p>
          <label class="opt"><input type="radio" name="q13" value="PHLE"> Ja, gut (Phlegmatiker)</label>
          <label class="opt"><input type="radio" name="q13" value="SAN"> Mit M√ºhe, braucht Hilfe (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q13" value="MEL"> Nur kurz, wird hektisch (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q13" value="CHOL"> Nein, dr√§ngt aggressiv (Choleriker)</label>
        </div>

        <div class="card">
          <p class="q">14) Stressanzeichen deines Hundes?</p>
          <label class="opt"><input type="radio" name="q14" value="SAN"> Hecheln, G√§hnen (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q14" value="CHOL"> Unruhe, Umherlaufen (Choleriker)</label>
          <label class="opt"><input type="radio" name="q14" value="MEL"> Stereotypien (Kreisen, Schwanzjagen) (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q14" value="PHLE"> Seltenes Aufdrehen, ruhig (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">15) R√ºckruf / Orientierung drau√üen:</p>
          <label class="opt"><input type="radio" name="q15" value="SAN"> Kommt fr√∂hlich, aber mit Umwegen (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q15" value="CHOL"> Kommt schnell & direkt (Choleriker)</label>
          <label class="opt"><input type="radio" name="q15" value="MEL"> Kommt nur vorsichtig/unsicher (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q15" value="PHLE"> Braucht lange / bleibt stehen (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">16) Impulskontrolle an der T√ºr / bei Futter:</p>
          <label class="opt"><input type="radio" name="q16" value="SAN"> Kaum wartbar, springt vor (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q16" value="CHOL"> Spannt an, dr√§ngt nach vorn (Choleriker)</label>
          <label class="opt"><input type="radio" name="q16" value="MEL"> Z√∂gert, wartet unsicher (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q16" value="PHLE"> Wartet ruhig (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">17) Handling / Pflege (B√ºrsten, Pfoten, Maulkorb):</p>
          <label class="opt"><input type="radio" name="q17" value="SAN"> Zappelig, aber freundlich (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q17" value="CHOL"> Wehrt sich deutlich (Choleriker)</label>
          <label class="opt"><input type="radio" name="q17" value="MEL"> L√§sst es √§ngstlich √ºber sich ergehen (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q17" value="PHLE"> Gelassen, unproblematisch (Phlegmatiker)</label>
        </div>

        <div class="card">
          <p class="q">18) Alleinbleiben / Trennungsphasen:</p>
          <label class="opt"><input type="radio" name="q18" value="SAN"> Sucht Besch√§ftigung, l√§uft umher (Sanguiniker)</label>
          <label class="opt"><input type="radio" name="q18" value="CHOL"> Protestiert lautstark (Choleriker)</label>
          <label class="opt"><input type="radio" name="q18" value="MEL"> Jault / zeigt Unsicherheit (Melancholiker)</label>
          <label class="opt"><input type="radio" name="q18" value="PHLE"> Schl√§ft, bleibt ruhig (Phlegmatiker)</label>
        </div>
      </form>

      <div class="actions">
        <button id="send" class="primary" type="button">Auswertung anzeigen & per WhatsApp senden</button>
        <button id="copy" class="ghost" type="button">Nur Ergebnis kopieren</button>
      </div>

      <div id="out" class="result">
        <h3>Auswertung (Vorschau)</h3>
        <pre id="preview"></pre>
      </div>

      <p class="muted">Hinweis: Es werden keine Daten gespeichert ‚Äì alles l√§uft lokal im Browser des Nutzers.</p>
    </div>
  </div>

<script>
(function(){
  const WA_NUMBER = "15781556678"; // ohne + und ohne Leerzeichen

  const TOTAL_FIELDS = 20; // 2 Stammdaten + 18 Fragen
  const pNow = document.getElementById('pNow');
  const pAll = document.getElementById('pAll');
  const fill = document.getElementById('fill');
  pAll.textContent = TOTAL_FIELDS;

  const form = document.getElementById('form');
  const dog = document.getElementById('dog');
  const owner = document.getElementById('owner');
  const out = document.getElementById('out');
  const preview = document.getElementById('preview');

  function countProgress(){
    let done = 0;
    if(dog.value.trim()) done++;
    if(owner.value.trim()) done++;
    for(let i=1;i<=18;i++){
      if(form.querySelector('input[name="q'+i+'"]:checked')) done++;
    }
    pNow.textContent = done;
    fill.style.width = (done / TOTAL_FIELDS * 100) + '%';
  }

  document.addEventListener('input', countProgress);
  countProgress();

  function getAnswerText(qName){
    const el = form.querySelector('input[name="'+qName+'"]:checked');
    if(!el) return "";
    // den sichtbaren Text der Labelzeile zur√ºckgeben
    return el.parentElement.textContent.trim();
  }

  function typFromValue(val){
    if(val==="SAN") return "Sanguiniker";
    if(val==="CHOL") return "Choleriker";
    if(val==="MEL") return "Melancholiker";
    if(val==="PHLE") return "Phlegmatiker";
    return "";
  }

  function buildReport(){
    // Validierung
    const missing = [];
    if(!dog.value.trim()) missing.push("Name des Hundes");
    if(!owner.value.trim()) missing.push("Name des Halters");
    for(let i=1;i<=18;i++){
      if(!form.querySelector('input[name="q'+i+'"]:checked')) missing.push("Frage "+i);
    }
    if(missing.length){
      alert("Bitte alles ausf√ºllen:\n‚Ä¢ " + missing.join("\n‚Ä¢ "));
      return null;
    }

    // Z√§hlung
    const counts = { Sanguiniker:0, Choleriker:0, Melancholiker:0, Phlegmatiker:0 };
    for(let i=1;i<=18;i++){
      const rb = form.querySelector('input[name="q'+i+'"]:checked');
      if(rb){ counts[typFromValue(rb.value)]++; }
    }

    // Vollst√§ndiger Fragebogen-Text
    const lines = [];
    lines.push("üêï RESET Hundetyp ‚Äì Fragebogen");
    lines.push("");
    lines.push("Hund: " + dog.value.trim());
    lines.push("Halter: " + owner.value.trim());
    lines.push("");
    lines.push("Antworten:");
    for(let i=1;i<=18;i++){
      lines.push(i.toString().padStart(2,"0") + ") " + getAnswerText("q"+i));
    }
    lines.push("");
    lines.push("Auswertung (Z√§hlung):");
    lines.push("Choleriker: " + counts["Choleriker"]);
    lines.push("Phlegmatiker: " + counts["Phlegmatiker"]);
    lines.push("Sanguiniker: " + counts["Sanguiniker"]);
    lines.push("Melancholiker: " + counts["Melancholiker"]);

    return { text: lines.join("\n"), counts };
  }

  document.getElementById('copy').addEventListener('click', async ()=>{
    const res = buildReport();
    if(!res) return;
    try{
      await navigator.clipboard.writeText(res.text);
      alert("Ergebnis wurde in die Zwischenablage kopiert.");
      out.style.display = "block";
      preview.textContent = res.text;
    }catch(e){
      out.style.display = "block";
      preview.textContent = res.text + "\n\n(Kopieren nicht m√∂glich ‚Äì bitte manuell markieren.)";
    }
  });

  document.getElementById('send').addEventListener('click', ()=>{
    const res = buildReport();
    if(!res) return;
    // Vorschau zeigen
    out.style.display = "block";
    preview.textContent = res.text;

    // WhatsApp √∂ffnen
    const url = "https://wa.me/" + WA_NUMBER + "?text=" + encodeURIComponent(res.text);
    window.open(url, "_blank");
  });
})();
</script>
</body>
</html>
